<!DOCTYPE html>
<html>
<head>
    <title>Project Management Tool</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        input, select {
            padding: 6px;
            margin-right: 10px;
        }

        .task {
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .completed {
            background-color: #c8e6c9;
            text-decoration: line-through;
        }

        .badge {
            padding: 3px 8px;
            border-radius: 4px;
            color: white;
            font-size: 12px;
        }

        .high { background-color: #e53935; }
        .low { background-color: #1e88e5; }

        button {
            margin-left: 5px;
            padding: 5px 8px;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <h2>Project Management Tool</h2>

    <input type="text" id="taskName" placeholder="Task Name">
    <select id="priority">
        <option value="High">High</option>
        <option value="Low">Low</option>
    </select>

    <button onclick="addTask()">Add Task</button>

    <div id="taskList"></div>

    <script>
        let tasks = [];
        let editIndex = null;

        function addTask() {
            const name = document.getElementById("taskName").value.trim();
            const priority = document.getElementById("priority").value;

            if (name === "") {
                alert("Task name cannot be empty!");
                return;
            }

            if (editIndex !== null) {
                // Update existing task
                tasks[editIndex].name = name;
                tasks[editIndex].priority = priority;
                editIndex = null;
            } else {
                // Add new task
                tasks.push({
                    name,
                    priority,
                    completed: false
                });
            }
            renderTasks();

            document.getElementById("taskName").value = "";
            
        }

        function renderTasks() {
            const list = document.getElementById("taskList");
            list.innerHTML = "";

            tasks.forEach((task, index) => {
                const div = document.createElement("div");
                div.className = "task";
                if (task.completed) div.classList.add("completed");

                div.innerHTML = `
                    <div>
                        <strong>${task.name}</strong>
                        <span class="badge ${task.priority === 'High' ? 'high' : 'low'}">
                            ${task.priority}
                        </span>
                        <em>(${task.completed ? "Completed" : "Pending"})</em>
                    </div>

                    <div>
                        <button onclick="startEdit(${index})">Edit</button>
                        <button onclick="deleteTask(${index})">Delete</button>
                        <button onclick="markCompleted(${index})">
                            ${task.completed ? "Undo" : "Mark Completed"}
                        </button>
                    </div>
                `;

                list.appendChild(div);
            });
        }

        function startEdit(index) {
            document.getElementById("taskName").value = tasks[index].name;
            document.getElementById("priority").value = tasks[index].priority;
            editIndex = index;
        }

        function deleteTask(index) {
            tasks.splice(index, 1);
            renderTasks();
        }

        function markCompleted(index) {
            tasks[index].completed = !tasks[index].completed;
            renderTasks();
        }
    </script>

</body>
</html>
